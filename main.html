<!DOCTYPE html>
<html lang="en">
<head>
	<title>Reverse Recruiting</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="bootstrap-3.3.5-dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="jquery-jvectormap-2.0.2/jquery-jvectormap-2.0.2.css" type="text/css" media="screen">
	<script src="jquery-2.1.4.min.js"></script>
	<script src="jquery-jvectormap-2.0.2/jquery-jvectormap-2.0.2.min.js"></script>
	<script src="data.js"></script>
	<script src="jquery-jvectormap-2.0.2/jquery-jvectormap-us-lcc-en.js"></script>
	<script src="js/jquery-ui.min.js"></script>
	<link rel='stylesheet' href="css/jquery-ui.min.css"></script>

</head>

<body>
	<div class="container">
		<div class="row">
			<!-- header -->
			<div class="page-header">
				<h1>Reverse Recruiting</h1>
				<p class="lead">For athletes to reverse recruit colleges</p>
			</div>
		</div>
		<div class="row">
			<!-- columns -->
			<div class="col-md-2">
				<!-- filter criteria -->
				<h3>Filters</h3>
				<span>Conference:</span>
				<select>
					<option>Conference 1</option>
					<option>Conference 2</option>
					<option>Conference 3</option>
					<option>Conference 4</option>
				</select>
				<div id="selected-conferences">
				</div>
				<p>
					<label for="acceptance-rate">Acceptance Rate:</label>
					<input type="text" id="acceptance-rate" readonly style="border:0; color:#f6931f; font-weight:bold;">
				</p>
				<div id="acceptance-slider"></div>
				<p>
					<label for="win-percent">Win Percentage:</label>
					<input type="text" id="win-percent" readonly style="border:0; color:#f6931f; font-weight:bold;">
				</p>
				<div id="wins-slider"></div>
				<button type="button" class="btn btn-default" value="submit">Filter</button>
			</div>
			
			<div id="map" class="col-md-8" style="height:400px;">
				<!-- map -->
			</div>

			<div class="col-md-2">
				<!--list of schools -->
				<h3>Schools</h3> 
				<div style="height:400px;overflow-y:auto;cursor:pointer;">
					<table class="table table-hover" id="collegeOutput"></table>
                </div>

			</div>
		</div>
		<div class="row" id="schoolInfo">
			<!-- specific school information -->
			<p></p>
		</div>
	</div>

	<script>
	for (i=0; i < colleges.length; i++){
		var name = colleges[i].schoolName.replace("(Mens)","");
		console.log(name);
		$("#collegeOutput").append("<tr><td>"+name+"</td></tr>");
	}
	$("#collegeOutput tr td").click(function(){
		var name = $(this).text().replace("(Mens)","");
		$("#collegeOutput tr td").removeClass('active');
		$(this).addClass('active');
		$("#schoolInfo p").text(name); 
	});
	</script>

<script>
	$(function(){
		$('#map').vectorMap({
			map: 'us_lcc_en',
			backgroundColor: "#FFF",
			zoomOnScroll: false,
			regionsSelectable: true,
			markers: [
			{latLng: [39.1, -84.54], name: 'Cincinatti, Ohio'}
			],
			regionStyle:
			{
				initial: {
					fill: '#818A8A'
				},
				selected: {
					fill: '#FF6600'
				}
			},
			onRegionSelected: function(e, code, isSelected, selectedRegions) {
				//alert('selected regions are: ' + selectedRegions.toString());
                filterByState();
			}
		});    
		$( "#acceptance-slider" ).slider({
			range: true,
			min: 0,
			max: 100,
			values: [ 25, 75 ],
			slide: function( event, ui ) {
				$( "#acceptance-rate" ).val( ui.values[ 0 ] + "% - " + ui.values[ 1 ] + "%" );
			}
		});
		$( "#acceptance-rate" ).val( $( "#acceptance-slider" ).slider( "values", 0 ) +
			"% - " + $( "#acceptance-slider" ).slider( "values", 1 ) + "%" );
		$( "#wins-slider" ).slider({
			range: true,
			min: 0,
			max: 100,
			values: [ 25, 75 ],
			slide: function( event, ui ) {
				$( "#win-percent" ).val( ui.values[ 0 ] + "% - " + ui.values[ 1 ] + "%" );
			},
			stop: function(event, ui) {
				alert('kdfsjaldkfj');
			}
		});
		$( "#win-percent" ).val( $( "#wins-slider" ).slider( "values", 0 ) +
			"% - " + $( "#wins-slider" ).slider( "values", 1 ) + "%" );
	});
</script>

<script src="map-filters.js"></script>
<script>window.onload = UpdateColleges();</script>
</body>
</html>

